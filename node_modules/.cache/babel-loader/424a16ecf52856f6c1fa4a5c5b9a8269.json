{"ast":null,"code":"import axios from 'axios';\nconst instance = axios.create({\n  baseURL: 'http://localhost:3001',\n  header: {\n    'Content-Type': 'application/json;charset=UTF-8',\n    \"Access-Control-Allow-Origin\": \"*\"\n  }\n}); //instance.defaults.headers.common['Authorization'] = `${newToken}`;\n\ninstance.interceptors.request.use(response => {\n  const token = localStorage.getItem('user');\n\n  if (!response.headers.Authorization) {\n    response.headers['Authorization'] = token;\n    const newToken = JSON.parse(token);\n    console.log('Here ' + JSON.stringify(token));\n    console.log(typeof newToken);\n    console.log(newToken.accessToken);\n    console.log(typeof newToken.accessToken);\n    return newToken;\n  }\n\n  response.headers['Content-Type'] = 'application/json';\n  Headers;\n  return response;\n}, error => {\n  Promise.reject(error);\n});\nexport default instance;","map":{"version":3,"sources":["/home/ouroboroser/Рабочий стол/try/front/src/services/tokenprovider.js"],"names":["axios","instance","create","baseURL","header","interceptors","request","use","response","token","localStorage","getItem","headers","Authorization","newToken","JSON","parse","console","log","stringify","accessToken","Headers","error","Promise","reject"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,QAAQ,GAAGD,KAAK,CAACE,MAAN,CAAa;AAC1BC,EAAAA,OAAO,EAAC,uBADkB;AAE1BC,EAAAA,MAAM,EAAC;AACH,oBAAgB,gCADb;AAEH,mCAA+B;AAF5B;AAFmB,CAAb,CAAjB,C,CAQA;;AAEAH,QAAQ,CAACI,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CACIC,QAAQ,IAAI;AACR,QAAMC,KAAK,GAAIC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAf;;AACA,MAAG,CAACH,QAAQ,CAACI,OAAT,CAAiBC,aAArB,EAAoC;AAChCL,IAAAA,QAAQ,CAACI,OAAT,CAAiB,eAAjB,IAAoCH,KAApC;AACA,UAAMK,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWP,KAAX,CAAjB;AACAQ,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAWH,IAAI,CAACI,SAAL,CAAeV,KAAf,CAAvB;AACAQ,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAOJ,QAAnB;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAQ,CAACM,WAArB;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAOJ,QAAQ,CAACM,WAA5B;AACA,WAAON,QAAP;AACH;;AACDN,EAAAA,QAAQ,CAACI,OAAT,CAAiB,cAAjB,IAAmC,kBAAnC;AACAS,EAAAA,OAAO;AACP,SAAOb,QAAP;AACH,CAfL,EAgBIc,KAAK,IAAI;AACLC,EAAAA,OAAO,CAACC,MAAR,CAAeF,KAAf;AACH,CAlBL;AAqBA,eAAerB,QAAf","sourcesContent":["import axios from 'axios';\n\nconst instance = axios.create({\n    baseURL:'http://localhost:3001',\n    header:{\n        'Content-Type': 'application/json;charset=UTF-8',\n        \"Access-Control-Allow-Origin\": \"*\",\n    }\n});\n\n//instance.defaults.headers.common['Authorization'] = `${newToken}`;\n\ninstance.interceptors.request.use(\n    response => {\n        const token = (localStorage.getItem('user'));\n        if(!response.headers.Authorization) {\n            response.headers['Authorization'] = token;\n            const newToken = JSON.parse(token);\n            console.log('Here ' +  JSON.stringify(token))\n            console.log(typeof newToken);\n            console.log(newToken.accessToken);\n            console.log(typeof newToken.accessToken);\n            return newToken;\n        }\n        response.headers['Content-Type'] = 'application/json';\n        Headers\n        return response;\n    },\n    error => {\n        Promise.reject(error);\n    }\n)\n\nexport default instance;"]},"metadata":{},"sourceType":"module"}