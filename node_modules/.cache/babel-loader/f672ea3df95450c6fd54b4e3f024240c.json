{"ast":null,"code":"import axios from 'axios';\nconst API_URL = 'http://localhost:3001/';\n\nclass AuthService {\n  login(nick, password) {\n    console.log('Login axios 1');\n    axios.post(API_URL + 'login', {\n      nick,\n      password\n    }).then(response => {\n      console.log('Login axios 2');\n\n      if (response.data.accessToken) {\n        console.log('Login axios 3');\n        localStorage.setItem('user', JSON.stringify(response.data));\n      }\n    }).catch(error => {\n      console.log('!Eror ' + error);\n    });\n  }\n\n  logout() {\n    localStorage.removeItem('user');\n  }\n\n  register(nick, name, email, password) {\n    return axios.post(API_URL + 'signup', {\n      nick,\n      name,\n      email,\n      password\n    });\n  }\n\n  getCurrentUser() {\n    return JSON.parse(localStorage.getItem('user'));\n  }\n\n}\n\nexport default new AuthService();","map":{"version":3,"sources":["/home/ouroboroser/Рабочий стол/try/front/src/services/authservice.js"],"names":["axios","API_URL","AuthService","login","nick","password","console","log","post","then","response","data","accessToken","localStorage","setItem","JSON","stringify","catch","error","logout","removeItem","register","name","email","getCurrentUser","parse","getItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAG,wBAAhB;;AAEC,MAAMC,WAAN,CAAkB;AACfC,EAAAA,KAAK,CAAEC,IAAF,EAAQC,QAAR,EAAiB;AAClBC,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACAP,IAAAA,KAAK,CAACQ,IAAN,CAAWP,OAAO,GAAG,OAArB,EAA8B;AAC1BG,MAAAA,IAD0B;AAE1BC,MAAAA;AAF0B,KAA9B,EAICI,IAJD,CAIOC,QAAQ,IAAI;AACfJ,MAAAA,OAAO,CAACC,GAAR,CAAa,eAAb;;AACA,UAAIG,QAAQ,CAACC,IAAT,CAAcC,WAAlB,EAA8B;AAC1BN,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACAM,QAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeN,QAAQ,CAACC,IAAxB,CAA7B;AACH;AACJ,KAVD,EAWCM,KAXD,CAWQC,KAAK,IAAI;AACbZ,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAWW,KAAvB;AACH,KAbD;AAcH;;AAEDC,EAAAA,MAAM,GAAE;AACJN,IAAAA,YAAY,CAACO,UAAb,CAAwB,MAAxB;AACH;;AAEDC,EAAAA,QAAQ,CAACjB,IAAD,EAAOkB,IAAP,EAAaC,KAAb,EAAoBlB,QAApB,EAA6B;AACjC,WAAOL,KAAK,CAACQ,IAAN,CAAWP,OAAO,GAAG,QAArB,EAA+B;AAClCG,MAAAA,IADkC;AAElCkB,MAAAA,IAFkC;AAGlCC,MAAAA,KAHkC;AAIlClB,MAAAA;AAJkC,KAA/B,CAAP;AAMH;;AAEDmB,EAAAA,cAAc,GAAE;AACZ,WAAOT,IAAI,CAACU,KAAL,CAAWZ,YAAY,CAACa,OAAb,CAAqB,MAArB,CAAX,CAAP;AACH;;AAlCc;;AAqCnB,eAAe,IAAIxB,WAAJ,EAAf","sourcesContent":["import axios from 'axios';\n\nconst API_URL = 'http://localhost:3001/';\n\n class AuthService {\n    login (nick, password){\n        console.log('Login axios 1')\n        axios.post(API_URL + 'login', {\n            nick,\n            password\n        })\n        .then (response => {\n            console.log ('Login axios 2')\n            if (response.data.accessToken){\n                console.log('Login axios 3')\n                localStorage.setItem('user', JSON.stringify(response.data));\n            }\n        })\n        .catch( error => {\n            console.log('!Eror ' + error);\n        })\n    }\n\n    logout(){\n        localStorage.removeItem('user');\n    }\n\n    register(nick, name, email, password){\n        return axios.post(API_URL + 'signup', {\n            nick,\n            name,\n            email,\n            password\n        });\n    }\n\n    getCurrentUser(){\n        return JSON.parse(localStorage.getItem('user'));\n    }\n}\n\nexport default new AuthService();"]},"metadata":{},"sourceType":"module"}