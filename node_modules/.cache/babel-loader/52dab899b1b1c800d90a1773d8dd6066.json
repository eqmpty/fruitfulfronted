{"ast":null,"code":"/*!\n * copy-to - index.js\n * Copyright(c) 2014 dead_horse <dead_horse@qq.com>\n * MIT Licensed\n */\n'use strict';\n/**\n * slice() reference.\n */\n\nvar slice = Array.prototype.slice;\n/**\n * Expose copy\n *\n * ```\n * copy({foo: 'nar', hello: 'copy'}).to({hello: 'world'});\n * copy({foo: 'nar', hello: 'copy'}).toCover({hello: 'world'});\n * ```\n *\n * @param {Object} src\n * @return {Copy}\n */\n\nmodule.exports = Copy;\n/**\n * Copy\n * @param {Object} src\n * @param {Boolean} withAccess\n */\n\nfunction Copy(src, withAccess) {\n  if (!(this instanceof Copy)) return new Copy(src, withAccess);\n  this.src = src;\n  this._withAccess = withAccess;\n}\n/**\n * copy properties include getter and setter\n * @param {[type]} val [description]\n * @return {[type]} [description]\n */\n\n\nCopy.prototype.withAccess = function (w) {\n  this._withAccess = w !== false;\n  return this;\n};\n/**\n * pick keys in src\n *\n * @api: public\n */\n\n\nCopy.prototype.pick = function (keys) {\n  if (!Array.isArray(keys)) {\n    keys = slice.call(arguments);\n  }\n\n  if (keys.length) {\n    this.keys = keys;\n  }\n\n  return this;\n};\n/**\n * copy src to target,\n * do not cover any property target has\n * @param {Object} to\n *\n * @api: public\n */\n\n\nCopy.prototype.to = function (to) {\n  to = to || {};\n  if (!this.src) return to;\n  var keys = this.keys || Object.keys(this.src);\n\n  if (!this._withAccess) {\n    for (var i = 0; i < keys.length; i++) {\n      key = keys[i];\n      if (to[key] !== undefined) continue;\n      to[key] = this.src[key];\n    }\n\n    return to;\n  }\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!notDefined(to, key)) continue;\n\n    var getter = this.src.__lookupGetter__(key);\n\n    var setter = this.src.__lookupSetter__(key);\n\n    if (getter) to.__defineGetter__(key, getter);\n    if (setter) to.__defineSetter__(key, setter);\n\n    if (!getter && !setter) {\n      to[key] = this.src[key];\n    }\n  }\n\n  return to;\n};\n/**\n * copy src to target,\n * override any property target has\n * @param {Object} to\n *\n * @api: public\n */\n\n\nCopy.prototype.toCover = function (to) {\n  var keys = this.keys || Object.keys(this.src);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    delete to[key];\n\n    var getter = this.src.__lookupGetter__(key);\n\n    var setter = this.src.__lookupSetter__(key);\n\n    if (getter) to.__defineGetter__(key, getter);\n    if (setter) to.__defineSetter__(key, setter);\n\n    if (!getter && !setter) {\n      to[key] = this.src[key];\n    }\n  }\n};\n\nCopy.prototype.override = Copy.prototype.toCover;\n/**\n * append another object to src\n * @param {Obj} obj\n * @return {Copy}\n */\n\nCopy.prototype.and = function (obj) {\n  var src = {};\n  this.to(src);\n  this.src = obj;\n  this.to(src);\n  this.src = src;\n  return this;\n};\n/**\n * check obj[key] if not defiend\n * @param {Object} obj\n * @param {String} key\n * @return {Boolean}\n */\n\n\nfunction notDefined(obj, key) {\n  return obj[key] === undefined && obj.__lookupGetter__(key) === undefined && obj.__lookupSetter__(key) === undefined;\n}","map":{"version":3,"sources":["/home/ouroboroser/Рабочий стол/try/node_modules/copy-to/index.js"],"names":["slice","Array","prototype","module","exports","Copy","src","withAccess","_withAccess","w","pick","keys","isArray","call","arguments","length","to","Object","i","key","undefined","notDefined","getter","__lookupGetter__","setter","__lookupSetter__","__defineGetter__","__defineSetter__","toCover","override","and","obj"],"mappings":"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","sourcesContent":["/*!\n * copy-to - index.js\n * Copyright(c) 2014 dead_horse <dead_horse@qq.com>\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * slice() reference.\n */\n\nvar slice = Array.prototype.slice;\n\n/**\n * Expose copy\n *\n * ```\n * copy({foo: 'nar', hello: 'copy'}).to({hello: 'world'});\n * copy({foo: 'nar', hello: 'copy'}).toCover({hello: 'world'});\n * ```\n *\n * @param {Object} src\n * @return {Copy}\n */\n\nmodule.exports = Copy;\n\n\n/**\n * Copy\n * @param {Object} src\n * @param {Boolean} withAccess\n */\n\nfunction Copy(src, withAccess) {\n  if (!(this instanceof Copy)) return new Copy(src, withAccess);\n  this.src = src;\n  this._withAccess = withAccess;\n}\n\n/**\n * copy properties include getter and setter\n * @param {[type]} val [description]\n * @return {[type]} [description]\n */\n\nCopy.prototype.withAccess = function (w) {\n  this._withAccess = w !== false;\n  return this;\n};\n\n/**\n * pick keys in src\n *\n * @api: public\n */\n\nCopy.prototype.pick = function(keys) {\n  if (!Array.isArray(keys)) {\n    keys = slice.call(arguments);\n  }\n  if (keys.length) {\n    this.keys = keys;\n  }\n  return this;\n};\n\n/**\n * copy src to target,\n * do not cover any property target has\n * @param {Object} to\n *\n * @api: public\n */\n\nCopy.prototype.to = function(to) {\n  to = to || {};\n\n  if (!this.src) return to;\n  var keys = this.keys || Object.keys(this.src);\n\n  if (!this._withAccess) {\n    for (var i = 0; i < keys.length; i++) {\n      key = keys[i];\n      if (to[key] !== undefined) continue;\n      to[key] = this.src[key];\n    }\n    return to;\n  }\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!notDefined(to, key)) continue;\n    var getter = this.src.__lookupGetter__(key);\n    var setter = this.src.__lookupSetter__(key);\n    if (getter) to.__defineGetter__(key, getter);\n    if (setter) to.__defineSetter__(key, setter);\n\n    if (!getter && !setter) {\n      to[key] = this.src[key];\n    }\n  }\n  return to;\n};\n\n/**\n * copy src to target,\n * override any property target has\n * @param {Object} to\n *\n * @api: public\n */\n\nCopy.prototype.toCover = function(to) {\n  var keys = this.keys || Object.keys(this.src);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    delete to[key];\n    var getter = this.src.__lookupGetter__(key);\n    var setter = this.src.__lookupSetter__(key);\n    if (getter) to.__defineGetter__(key, getter);\n    if (setter) to.__defineSetter__(key, setter);\n\n    if (!getter && !setter) {\n      to[key] = this.src[key];\n    }\n  }\n};\n\nCopy.prototype.override = Copy.prototype.toCover;\n\n/**\n * append another object to src\n * @param {Obj} obj\n * @return {Copy}\n */\n\nCopy.prototype.and = function (obj) {\n  var src = {};\n  this.to(src);\n  this.src = obj;\n  this.to(src);\n  this.src = src;\n\n  return this;\n};\n\n/**\n * check obj[key] if not defiend\n * @param {Object} obj\n * @param {String} key\n * @return {Boolean}\n */\n\nfunction notDefined(obj, key) {\n  return obj[key] === undefined\n    && obj.__lookupGetter__(key) === undefined\n    && obj.__lookupSetter__(key) === undefined;\n}\n"]},"metadata":{},"sourceType":"script"}