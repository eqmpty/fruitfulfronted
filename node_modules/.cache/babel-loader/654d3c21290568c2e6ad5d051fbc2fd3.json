{"ast":null,"code":"import axios from 'axios';\nconst API_URL = 'http://localhost:3001/';\n\nclass AuthService {\n  login(nick, password) {\n    try {\n      console.log('Login axios 1');\n      return axios.post(API_URL + 'login', {\n        nick,\n        password\n      }).then(response => {\n        console.log('Login axios 2');\n\n        if (response.data.accessToken) {\n          console.log('Login axios 3');\n          localStorage.setItem('user', JSON.stringify(response.data));\n        }\n\n        return response.data;\n      });\n    } catch (error) {\n      console.log('!Erorr ' + error);\n    }\n  }\n\n  logout() {\n    localStorage.removeItem('user');\n  }\n\n  register(nick, name, email, password) {\n    return axios.post(API_URL + 'signup', {\n      nick,\n      name,\n      email,\n      password\n    });\n  }\n\n  getCurrentUser() {\n    return JSON.parse(localStorage.getItem('user'));\n  }\n\n}\n\nexport default new AuthService();","map":{"version":3,"sources":["/home/ouroboroser/Рабочий стол/try/front/src/services/authservice.js"],"names":["axios","API_URL","AuthService","login","nick","password","console","log","post","then","response","data","accessToken","localStorage","setItem","JSON","stringify","error","logout","removeItem","register","name","email","getCurrentUser","parse","getItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAG,wBAAhB;;AAEA,MAAMC,WAAN,CAAkB;AACdC,EAAAA,KAAK,CAAEC,IAAF,EAAQC,QAAR,EAAiB;AAClB,QAAI;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACJ,aAAOP,KAAK,CACPQ,IADE,CACGP,OAAO,GAAG,OADb,EACsB;AACzBG,QAAAA,IADyB;AAEzBC,QAAAA;AAFyB,OADtB,EAKNI,IALM,CAKAC,QAAQ,IAAI;AACfJ,QAAAA,OAAO,CAACC,GAAR,CAAa,eAAb;;AACA,YAAIG,QAAQ,CAACC,IAAT,CAAcC,WAAlB,EAA8B;AAC1BN,UAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACAM,UAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeN,QAAQ,CAACC,IAAxB,CAA7B;AACH;;AACD,eAAOD,QAAQ,CAACC,IAAhB;AACH,OAZM,CAAP;AAaC,KAfD,CAgBA,OAAOM,KAAP,EAAa;AACTX,MAAAA,OAAO,CAACC,GAAR,CAAa,YAAYU,KAAzB;AACH;AACJ;;AAEDC,EAAAA,MAAM,GAAE;AACJL,IAAAA,YAAY,CAACM,UAAb,CAAwB,MAAxB;AACH;;AAEDC,EAAAA,QAAQ,CAAChB,IAAD,EAAOiB,IAAP,EAAaC,KAAb,EAAoBjB,QAApB,EAA6B;AACjC,WAAOL,KAAK,CAACQ,IAAN,CAAWP,OAAO,GAAG,QAArB,EAA+B;AAClCG,MAAAA,IADkC;AAElCiB,MAAAA,IAFkC;AAGlCC,MAAAA,KAHkC;AAIlCjB,MAAAA;AAJkC,KAA/B,CAAP;AAMH;;AAEDkB,EAAAA,cAAc,GAAE;AACZ,WAAOR,IAAI,CAACS,KAAL,CAAWX,YAAY,CAACY,OAAb,CAAqB,MAArB,CAAX,CAAP;AACH;;AAtCa;;AAyClB,eAAe,IAAIvB,WAAJ,EAAf","sourcesContent":["import axios from 'axios';\n\nconst API_URL = 'http://localhost:3001/';\n\nclass AuthService {\n    login (nick, password){\n        try {\n            console.log('Login axios 1')\n        return axios \n            .post(API_URL + 'login', {\n            nick,\n            password\n        })\n        .then (response => {\n            console.log ('Login axios 2')\n            if (response.data.accessToken){\n                console.log('Login axios 3')\n                localStorage.setItem('user', JSON.stringify(response.data));\n            }\n            return response.data;\n        });\n        }\n        catch (error){\n            console.log ('!Erorr ' + error);\n        }\n    }\n\n    logout(){\n        localStorage.removeItem('user');\n    }\n\n    register(nick, name, email, password){\n        return axios.post(API_URL + 'signup', {\n            nick,\n            name,\n            email,\n            password\n        });\n    }\n\n    getCurrentUser(){\n        return JSON.parse(localStorage.getItem('user'));\n    }\n}\n\nexport default new AuthService();"]},"metadata":{},"sourceType":"module"}