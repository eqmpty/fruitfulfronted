{"ast":null,"code":"import React from 'react';\nimport axios from 'axios';\nconst API_URL = 'http://localhost:3001/';\n\nclass AuthService {\n  login(nick, password) {\n    console.log('Login axios 1');\n    return axios.post(API_URL + 'login', {\n      nick,\n      password\n    }).then(response => {\n      console.log('Login axios 2');\n\n      if (response.data.accessToken) {\n        console.log('Login axios 3');\n        localStorage.setItem('user', JSON.stringify(response.data));\n      }\n\n      return response.data;\n    });\n  }\n\n  logout() {\n    localStorage.removeItem('user');\n  }\n\n  register(nick, name, email, password) {\n    return axios.post(API_URL + 'signup', {\n      nick,\n      name,\n      email,\n      password\n    });\n  }\n\n  getCurrentUser() {\n    return JSON.parse(localStorage.getItem('user'));\n  }\n\n}\n\nexport default new AuthService();","map":{"version":3,"sources":["/home/ouroboroser/Рабочий стол/try/front/src/services/authservice.js"],"names":["React","axios","API_URL","AuthService","login","nick","password","console","log","post","then","response","data","accessToken","localStorage","setItem","JSON","stringify","logout","removeItem","register","name","email","getCurrentUser","parse","getItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAG,wBAAhB;;AAEA,MAAMC,WAAN,CAAkB;AACdC,EAAAA,KAAK,CAAEC,IAAF,EAAQC,QAAR,EAAiB;AAClBC,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,WAAOP,KAAK,CAACQ,IAAN,CAAWP,OAAO,GAAG,OAArB,EAA8B;AACjCG,MAAAA,IADiC;AAEjCC,MAAAA;AAFiC,KAA9B,EAINI,IAJM,CAIAC,QAAQ,IAAI;AACfJ,MAAAA,OAAO,CAACC,GAAR,CAAa,eAAb;;AACA,UAAIG,QAAQ,CAACC,IAAT,CAAcC,WAAlB,EAA8B;AAC1BN,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACAM,QAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeN,QAAQ,CAACC,IAAxB,CAA7B;AACH;;AACD,aAAOD,QAAQ,CAACC,IAAhB;AACH,KAXM,CAAP;AAYC;;AAGLM,EAAAA,MAAM,GAAE;AACJJ,IAAAA,YAAY,CAACK,UAAb,CAAwB,MAAxB;AACH;;AAEDC,EAAAA,QAAQ,CAACf,IAAD,EAAOgB,IAAP,EAAaC,KAAb,EAAoBhB,QAApB,EAA6B;AACjC,WAAOL,KAAK,CAACQ,IAAN,CAAWP,OAAO,GAAG,QAArB,EAA+B;AAClCG,MAAAA,IADkC;AAElCgB,MAAAA,IAFkC;AAGlCC,MAAAA,KAHkC;AAIlChB,MAAAA;AAJkC,KAA/B,CAAP;AAMH;;AAEDiB,EAAAA,cAAc,GAAE;AACZ,WAAOP,IAAI,CAACQ,KAAL,CAAWV,YAAY,CAACW,OAAb,CAAqB,MAArB,CAAX,CAAP;AACH;;AAjCa;;AAoClB,eAAe,IAAItB,WAAJ,EAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nconst API_URL = 'http://localhost:3001/';\n\nclass AuthService {\n    login (nick, password){\n        console.log('Login axios 1')\n        return axios.post(API_URL + 'login', {\n            nick,\n            password\n        })\n        .then (response => {\n            console.log ('Login axios 2')\n            if (response.data.accessToken){\n                console.log('Login axios 3')\n                localStorage.setItem('user', JSON.stringify(response.data));\n            }\n            return response.data;\n        });\n        }    \n    \n\n    logout(){\n        localStorage.removeItem('user');\n    }\n\n    register(nick, name, email, password){\n        return axios.post(API_URL + 'signup', {\n            nick,\n            name,\n            email,\n            password\n        });\n    }\n\n    getCurrentUser(){\n        return JSON.parse(localStorage.getItem('user'));\n    }\n}\n\nexport default new AuthService();"]},"metadata":{},"sourceType":"module"}